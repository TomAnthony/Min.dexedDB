function MinimalDexDB(t,e){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.database=t,this.objectStores=Array.isArray(e)?e:[e],this.connect=function(e){var n=this.indexedDB.open(t,1);return n.mdb=this,n.onupgradeneeded=function(){var t=n.result;this.mdb.objectStores.forEach(e=>{var n=Object.entries(e);t.createObjectStore(n[0][0],{keyPath:n[0][1]})})},new Promise(function(t,e){n.onsuccess=function(){this.mdb.db=n.result,t(this.mdb.db)}})},this.put=function(t,e){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";this.db.transaction(t,"readwrite").objectStore(t).put(e)},this.get=function(t,e){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";var n=this.db.transaction(t,"readwrite").objectStore(t);return new Promise(function(t,i){var o=n.get(e);o.onsuccess=function(){t(o)}})},this.close=function(){this.db.close()}}