function MinimalDexDB(t,e,i){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.database=t,this.store=e,this.keyPath=i,this.connect=function(e){var i=this.indexedDB.open(t,1);return i.mdb=this,i.onupgradeneeded=function(){i.result.createObjectStore(this.mdb.store,{keyPath:this.mdb.keyPath})},new Promise(function(t,e){i.onsuccess=function(){this.mdb.db=i.result,t(this.mdb.db)}})},this.put=function(t){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";this.db.transaction(this.store,"readwrite").objectStore(this.store).put(t)},this.get=function(t){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";var e=this.db.transaction(this.store,"readwrite").objectStore(this.store);return new Promise(function(i,n){var o=e.get(t);o.onsuccess=function(){i(o)}})},this.close=function(){this.db.close()}}