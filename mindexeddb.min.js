function MindexedDB(e,t){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.database=e,this.objectStores=Array.isArray(t)?t:[t],this.connect=function(t){var n=this.indexedDB.open(e,1);return n.mdb=this,n.onupgradeneeded=function(){var e=n.result;this.mdb.objectStores.forEach(t=>{var n=Object.entries(t);e.createObjectStore(n[0][0],{keyPath:n[0][1]})})},new Promise(function(e,t){n.onsuccess=function(){this.mdb.db=n.result,e(this.mdb.db)}})},this.put=function(e,t){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";this.db.transaction(e,"readwrite").objectStore(e).put(t)},this.get=function(e,t){if(void 0===this.db)throw"[MinmalDexDB] DB not connected.";var n=this.db.transaction(e,"readwrite").objectStore(e);return new Promise(function(e,i){var o=n.get(t);o.onsuccess=function(){e(o)}})},this.close=function(){this.db.close()}}