function MindexedDB(n,e){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.database=n,this.objectStores=Array.isArray(e)?e:[e],this.connect=function(e){var t=this.indexedDB.open(n,1);return t.mdb=this,t.onupgradeneeded=function(){var n=t.result;this.mdb.objectStores.forEach(e=>{var t=Object.entries(e);n.createObjectStore(t[0][0],{keyPath:t[0][1]})})},new Promise(function(n,e){t.onsuccess=function(){this.mdb.db=t.result,n(this.mdb.db)},t.onerror=function(){n(!1)}})},this.cs=function(n){if(void 0===this.db)throw"[MindexDB] DB not open.";return this.db.transaction(n,"readwrite").objectStore(n)},this.put=function(n,e){return os=this.cs(n),new Promise(function(n,t){var o=os.put(e);o.onsuccess=function(){n(!0)},o.onerror=function(){n(!1)}})},this.get=function(n,e){return os=this.cs(n),new Promise(function(n,t){var o=os.get(e);o.onsuccess=function(){n(o)},o.onerror=function(){n(!1)}})},this.close=function(){this.db.close()}}