function MindexedDB(n,t){this.idb=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,this.db=n,this.objStrs=Array.isArray(t)?t:[t],this.connect=function(n){var t=this.idb.open(this.db,1);return t.mdb=this,t.onupgradeneeded=function(){var n=t.result;this.mdb.objStrs.forEach(t=>{var e=Object.entries(t);n.createObjectStore(e[0][0],{keyPath:e[0][1]})})},new Promise(function(n,e){t.onsuccess=function(){this.mdb.db=t.result,n(this.mdb.db)},t.onerror=function(){e(t.error)}})},this.cs=function(n){if(void 0===this.db)throw"[Min.dexedDB] DB not open.";return this.db.transaction(n,"readwrite").objectStore(n)},this.put=function(n,t){return os=this.cs(n),new Promise(function(n,e){var o=os.put(t);o.onsuccess=function(){n(o.result)},o.onerror=function(){e(o.error)}})},this.get=function(n,t){return os=this.cs(n),new Promise(function(n,e){var o=os.get(t);o.onsuccess=function(){n(o.result)},o.onerror=function(){e(o.error)}})},this.close=function(){this.db.close()}}